<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="../../../template/template_gerenciador.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:param name="titulo" value="IONDAX - Design e Tecnologia"/>
	
	<ui:param name="tabAtiva" value="1"/>
	
	<ui:define name="importacaoAdicional">
		<link type="text/css" rel="stylesheet" href="#{facesContext.externalContext.requestContextPath}/css/content/financeiro/financeiro.css" />
		<script type="text/javascript">
            $(document).ready(function() {
                setarMascara();
            }); 
            function setarMascara() {
                $("#saldoAtualConta").maskMoney({showSymbol:false, symbol:"R$ ", precision: 2, decimal:",", thousands:".", allowNegative:true});
            }
        </script>
	</ui:define>
	
	<ui:define name="body_content">
		<h:form id="formInclusaoConta" name="formInclusaoConta" prependId="false">
			<h:panelGrid>
				<h:panelGroup>
					<p:outputLabel styleClass="textIondax" value="Nome Personalizado da Conta"/>
				</h:panelGroup>
				<h:panelGroup>
					<p:inputText value="#{financeiroBean.conta.nomeContaBancaria}"/>
				</h:panelGroup>
			</h:panelGrid>
			
			<h:panelGrid columns="3" id="gridInclusaoConta">
				<h:panelGroup>
					<p:outputLabel styleClass="textIondax" value="Banco"/>
				</h:panelGroup>
				<h:panelGroup>
					<p:outputLabel styleClass="textIondax" value="Agência"/>
				</h:panelGroup>
				<h:panelGroup>
					<p:outputLabel styleClass="textIondax" value="Conta"/>
				</h:panelGroup>
				<h:panelGroup>
					<p:selectOneMenu id="comboBancos" value="#{financeiroBean.numBancoSelecionado}">
						<f:selectItem itemValue="0" itemLabel="::SELECIONE::"></f:selectItem>
						<f:selectItems value="#{financeiroBean.listaBancos}"/>
						<p:ajax event="change" listener="#{financeiroBean.trocaCarteira}" update=":formInclusaoConta:gridInclusaoContaCarteiras"/>
					</p:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup>
					<p:inputText value="#{financeiroBean.conta.agencia}"/>
				</h:panelGroup>
				<h:panelGroup>
					<p:inputText value="#{financeiroBean.conta.nroConta}"/>
				</h:panelGroup>
			</h:panelGrid>
			
			<h:panelGrid id="gridInclusaoContaCarteiras">
			
				<h:panelGrid columns="3" id="gridInclusaoContaCarteiraBancoBrasil" rendered="#{financeiroBean.numBancoSelecionado == 1}">
					<h:panelGroup>
						<p:outputLabel styleClass="textIondax" value="Carteira"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel styleClass="textIondax" value="Convênio"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:outputLabel styleClass="textIondax" value="Variação de Carteira"/>
					</h:panelGroup>
					
					<h:panelGroup>
						<p:selectOneMenu id="comboCarteiraBancoBrasil" value="#{financeiroBean.conta.carteira}">
							<f:selectItems value="#{financeiroBean.listaCarteirasBoleto}"/>
						</p:selectOneMenu>
					</h:panelGroup>
					
					<h:panelGroup>
						<p:inputText id="convenioCarteiraBancoBrasil" value="#{financeiroBean.conta.convenio}"/>
					</h:panelGroup>
					
					<h:panelGroup>
						<p:inputText id="variacaoCarteiraBancoBrasil" value="#{financeiroBean.conta.variacaoCarteira}"/>
					</h:panelGroup>
				</h:panelGrid>
				
				<h:panelGrid columns="1" id="gridInclusaoContaCarteiraSantander" rendered="#{financeiroBean.numBancoSelecionado == 33}">
					<h:panelGroup>
						<p:outputLabel styleClass="textIondax" value="Carteira"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:selectOneMenu id="comboCarteiraSantander" value="#{financeiroBean.conta.carteira}">
							<f:selectItems value="#{financeiroBean.listaCarteirasBoleto}"/>
						</p:selectOneMenu>
					</h:panelGroup>
				</h:panelGrid>
				
				<h:panelGrid columns="1" id="gridInclusaoContaCarteiraCaixaEconomica" rendered="#{financeiroBean.numBancoSelecionado == 104}">
					<h:panelGroup>
						<p:outputLabel styleClass="textIondax" value="Carteira"/>
					</h:panelGroup>

					<h:panelGroup>
						<p:selectOneMenu id="comboCarteiraBancoCaixaEconomica" value="#{financeiroBean.conta.carteira}">
							<f:selectItems value="#{financeiroBean.listaCarteirasBoleto}"/>
						</p:selectOneMenu>
					</h:panelGroup>
				</h:panelGrid>
				
				<h:panelGrid columns="1" id="gridInclusaoContaCarteiraNossaCaixa" rendered="#{financeiroBean.numBancoSelecionado == 151}">
					<h:panelGroup>
						<p:outputLabel styleClass="textIondax" value="Carteira"/>
					</h:panelGroup>
					<h:panelGroup>
						<p:selectOneMenu id="comboCarteiraNossaCaixa" value="#{financeiroBean.conta.carteira}">
							<f:selectItems value="#{financeiroBean.listaCarteirasBoleto}"/>
						</p:selectOneMenu>
					</h:panelGroup>
				</h:panelGrid>
				
				<h:panelGrid columns="1" id="gridInclusaoContaCarteiraBradesco" rendered="#{financeiroBean.numBancoSelecionado == 237}">
					<h:panelGroup>
						<p:outputLabel styleClass="textIondax" value="Carteira"/>
					</h:panelGroup>
					
					<h:panelGroup>
						<p:selectOneMenu id="comboCarteiraBradesco" value="#{financeiroBean.conta.carteira}">
							<f:selectItems value="#{financeiroBean.listaCarteirasBoleto}"/>
						</p:selectOneMenu>
					</h:panelGroup>
				</h:panelGrid>
				
				<h:panelGrid columns="1" id="gridInclusaoContaCarteiraItau" rendered="#{financeiroBean.numBancoSelecionado == 341}">
					<h:panelGroup>
						<p:outputLabel styleClass="textIondax" value="Carteira"/>
					</h:panelGroup>
					
					<h:panelGroup>
						<p:selectOneMenu id="comboCarteiraBancoItau" value="#{financeiroBean.conta.carteira}">
							<f:selectItems value="#{financeiroBean.listaCarteirasBoleto}"/>
						</p:selectOneMenu>
					</h:panelGroup>
				</h:panelGrid>
				
			</h:panelGrid>
			
			<h:panelGrid id="nroUltimoNossoNumeroGeradoPelaEmpresa">
				<h:panelGroup>
					<p:outputLabel value="Último Nosso número gerado pela empresa" styleClass="textIondax"/>
				</h:panelGroup>
				<h:panelGroup>
					<p:inputMask mask="#{financeiroBean.mascaraNossoNumero}" value="#{financeiroBean.conta.nossoNumeroInicial}"/>
				</h:panelGroup>
			</h:panelGrid>
			
			<h:panelGrid id="dadosDaConta" columns="2">
				<h:panelGroup>
					<p:outputLabel value="Saldo atual da conta" styleClass="textIondax"/>
				</h:panelGroup>
				<h:panelGroup>
					<p:outputLabel value="Última data de visualização do saldo" styleClass="textIondax"/>
				</h:panelGroup>
				<h:panelGroup>
					<p:inputText id="saldoAtualConta" value="#{financeiroBean.conta.saldoAtual}" converter="DecimalConverter"/>
				</h:panelGroup>
				<h:panelGroup>
					<p:calendar id="dataUltimaVisualizacaoSaldo" locale="pt" pattern="dd/MM/yyyy" value="#{financeiroBean.conta.ultimaVisualizacaoSaldo}"/>
				</h:panelGroup>
			</h:panelGrid>
			
			<p:commandButton id="btnIncluir" rendered="#{!financeiroBean.flagEdicaoConta}" disabled="false" value="Incluir Conta" action="#{financeiroBean.incluirConta}"/>
			<p:commandButton id="btnEditar" rendered="#{(financeiroBean.flagEdicaoConta)}" value="Alterar Conta" action="#{financeiroBean.editarContaBancaria}"/>
			
			<h:form id="Exemplo-Bopepo-com-JSF" >
				<p:commandButton value="Exemplo-Bopepo-Boleto" action="#{financeiroBean.download}" />
			</h:form>
			
		</h:form>
	</ui:define>
</ui:composition>
