<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="../../../template/template_gerenciador.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:param name="titulo" value="IONDAX - Design e Tecnologia"/>
	
	<ui:param name="tabAtiva" value="1"/>
	
	<ui:define name="importacaoAdicional">
		<link type="text/css" rel="stylesheet" href="#{facesContext.externalContext.requestContextPath}/css/content/financeiro/financeiro.css" />
	</ui:define>
	
	<ui:define name="body_content">
		<h:form id="formVisuFluxoCaixa">
			
			<h:panelGrid columns="2">
				<h:panelGroup>
					<p:outputLabel styleClass="textIondax" value="Selecione o Ano:" />
				</h:panelGroup>
				<h:panelGroup>
					<p:selectOneMenu value="#{financeiroBean.ano}">
						<f:selectItem itemValue="0" itemLabel="::SELECIONE::"/>
						<f:selectItems value="#{financeiroBean.listaAnos}"/>
						<p:ajax event="change" listener="#{financeiroBean.atualizaTabelaFluxoCaixa}" update=":formVisuFluxoCaixa:gridFluxoCaixa" />
					</p:selectOneMenu>
				</h:panelGroup>
			</h:panelGrid>
			
			<h:panelGrid>
				<h:panelGroup>
					<p:dataTable id="gridFluxoCaixa" value="#{financeiroBean.listaCategoriaTransacao}" var="c"  style="margin-left:5px;width:99%;">
							
						<p:column styleClass="colunaVazia" width="16%"></p:column>
						<p:column headerText="Jan" width="7%"></p:column>
						<p:column headerText="Fev" width="7%"></p:column>
						<p:column headerText="Mar" width="7%"></p:column>
						<p:column headerText="Abr" width="7%"></p:column>
						<p:column headerText="Mai" width="7%"></p:column>
						<p:column headerText="Jun" width="7%"></p:column>
						<p:column headerText="Jul" width="7%"></p:column>
						<p:column headerText="Ago" width="7%"></p:column>
						<p:column headerText="Set" width="7%"></p:column>
						<p:column headerText="Out" width="7%"></p:column>
						<p:column headerText="Nov" width="7%"></p:column>
						<p:column headerText="Dez" width="7%"></p:column>
						
						<p:subTable id="subtable" value="#{c.categoriasTransacao}" var="categoria">
							<f:facet name="header">
								#{c.tipo}
							</f:facet>
							
							<p:column width="20%">#{categoria.nome}</p:column>
							<p:column>#{categoria.valorMes1}</p:column>
							<p:column>#{categoria.valorMes2}</p:column>
							<p:column>#{categoria.valorMes3}</p:column>
							<p:column>#{categoria.valorMes4}</p:column>
							<p:column>#{categoria.valorMes5}</p:column>
							<p:column>#{categoria.valorMes6}</p:column>
							<p:column>#{categoria.valorMes7}</p:column>
							<p:column>#{categoria.valorMes8}</p:column>
							<p:column>#{categoria.valorMes9}</p:column>
							<p:column>#{categoria.valorMes10}</p:column>
							<p:column>#{categoria.valorMes11}</p:column>
							<p:column>#{categoria.valorMes12}</p:column>
							
						</p:subTable>
						
					</p:dataTable>  
				</h:panelGroup>
			</h:panelGrid>
		</h:form>
	</ui:define>
</ui:composition>
